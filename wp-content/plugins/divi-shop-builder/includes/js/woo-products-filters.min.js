/*!@license
This file includes code from range-slider, with or without modifications
https://github.com/slawomir-zaziablo/range-slider
range-slider is licensed under the following license.
Unmodified source code can be found at ../../sources/range-slider/src/js/rSlider.js

MIT License

Copyright (c) 2017 Slawomir Zaziablo

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/(function(){jQuery(document).ready(function(e){var t,n,i,a,c,d,g,r=String.fromCharCode(57395),p=String.fromCharCode(57393);window.ags_wc_filters_isInVisualBuilder=e(document.body).hasClass("et-fb"),t=e(".ags-wc-filters-target:visible:first"),i={},e(".ags-wc-filters-button-apply").click(function(){window.ags_wc_filters_applyFilters(e(this).closest(".ags_woo_products_filters"))}),e(window).on("resize",function(){var n=e(".ags-wc-filters-target:visible:first");(t.length||n.length)&&!t.is(n)&&(t=n,s()),e(".ags-wc-filters-row .ags-wc-filters-sections").css("margin-left",null)}),e(document.body).on("click",function(t){var n=e(t.target).closest(".ags-wc-filters-hide-on-click");e(".ags-wc-filters-hide-on-click").not(n).hide(),!t.isTrigger&&!e(t.target).closest(".ags-wc-filters-row .ags-wc-filters-section:not(ags-wc-filters-section-toggle-closed)").length&&e(".ags-wc-filters-row .ags-wc-filters-section").addClass("ags-wc-filters-section-toggle-closed")}),window.ags_wc_filters_isInVisualBuilder||e(document).on("click",".ags-wc-filters-section-title.ags-wc-filters-section-toggle",function(){var n=e(this).parent().toggleClass("ags-wc-filters-section-toggle-closed");e(this).closest(".ags-wc-filters-row").find(".ags-wc-filters-section").not(n).addClass("ags-wc-filters-section-toggle-closed")}),window.ags_wc_filters_maybeToggleNoOptionsMessage=function(t){var n,s=t.find(".ags-wc-filters-list:first");s.length&&(s.children(":not(.ags-wc-filters-hidden)").length?t.find(".ags-wc-filters-no-options").remove():t.has(".ags-wc-filters-no-options").length||(n=t.find("h4").clone(),n.children().remove(),e("<div>").addClass("ags-wc-filters-no-options").text(t.closest("div[data-no-options-text]").attr("data-no-options-text").replace("%s",n.text())).appendTo(t.find(".ags-wc-filters-section-inner:first"))))},window.ags_wc_filters_aliases&&ags_wc_filters_set_aliases(window.ags_wc_filters_aliases),window.ags_wc_filters_parentClassPolyfill=function(t,n,s,o,i,a){t.each(function(){for(var t,r,c,l=0;l<n.length;++l)t=e(this).closest(n[l]),t.length&&(!window.getComputedStyle||window.getComputedStyle(t[0])[o]!==i)&&(r=t.attr("class"),r.substring(0,10)==="et-module-"?(c=r.substring(0,r.indexOf(" ")),c&&e("<style>").attr("id","dswcp-pcp-"+c).text("."+c+"{"+a+"}").appendTo(document.head)):t.addClass(s))})},ags_wc_filters_parentClassPolyfill(e(".ags_woo_mini_cart"),[".et_pb_column"],"ags-woo-mini-cart-ancestor","zIndex","3","z-index:3"),window.ags_wc_filters_initFilters=function(n){var s,o,a,r,c,l,u,h,m,f,p,g,v,y=window.ags_wc_filters_getDisplayType(n),_=n.attr("data-ags-wc-filters-query-var"),i=n.closest(".ags_woo_products_filters"),d=i.find(".ags-wc-filters-button-apply:first"),b=i.closest(".et_pb_row")[0];switch(window.ags_wc_filters_isInVisualBuilder?b.style.zIndex="10":b.style.zIndex="3",y){case"checkboxes_list":case"radio_buttons":case"colors":case"images":n.find(".ags-wc-filters-list:first :checkbox, .ags-wc-filters-list:first :radio").change(function(e){!d.length&&!e.isTrigger&&window.ags_wc_filters_applyFilters(i)});break;case"dropdown_single_select":n.find(".ags-wc-filters-dropdown-single .ags-wc-filters-active a").click(function(){return n.find(".ags-wc-filters-dropdown-single .ags-wc-filters-dropdown-single-options").toggle(),!1}),n.find(".ags-wc-filters-dropdown-single .ags-wc-filters-dropdown-single-options li a").click(function(e){var t,s=jQuery(this).attr("data-label");return n.find(".ags-wc-filters-dropdown-single .ags-wc-filters-dropdown-single-options li a").removeClass("ags-wc-filters-active"),jQuery(this).addClass("ags-wc-filters-active"),t=n.find(".ags-wc-filters-dropdown-single .ags-wc-filters-active a span").text(s),t.html(window.ags_wc_filters_processOptionLabel(t.html())),n.find(".ags-wc-filters-dropdown-single .ags-wc-filters-dropdown-single-options").hide(),!d.length&&!e.isTrigger&&window.ags_wc_filters_applyFilters(i),!1});break;case"dropdown_multi_select":n.find(".ags-wc-filters-dropdown-multi .ags-wc-filters-active span").click(function(e){n.find(".ags-wc-filters-dropdown-multi-options").toggle(),e.stopPropagation()}),n.find(".ags-wc-filters-dropdown-multi-options li input").change(function(t){var s,o=e(this);o.closest("li").toggleClass("ags-wc-filters-active",o.prop("checked")),s=n.find(".ags-wc-filters-list:first :checked").map(function(e,t){return jQuery(t).attr("data-label")}).get(),s.length===0?n.find(".ags-wc-filters-dropdown-multi > .ags-wc-filters-active span").text(n.find(".ags-wc-filters-dropdown-multi:first").attr("data-placeholder-text")):n.find(".ags-wc-filters-dropdown-multi > .ags-wc-filters-active span").text(s.join(", ")),!d.length&&!t.isTrigger&&window.ags_wc_filters_applyFilters(i)});break;case"search":function j(e,t){if(t.length){var n,s=e.find(".ags-wc-filters-search-suggestions:first").empty();s.length||(s=jQuery('<ul class="ags-wc-filters-search-suggestions">').appendTo(jQuery('<div class="ags-wc-filters-search-suggestions-container ags-wc-filters-hide-on-click">').append('<div class="ags-wc-filters-dropdown-toggle"></div>').appendTo(e)));for(n=0;n<t.length;++n)jQuery("<li>").append(jQuery("<a>").attr({href:t[n].link,target:"_blank"}).text(t[n].label)).appendTo(s);s.parent().show()}else e.children(".ags-wc-filters-search-suggestions-container:first").hide()}window.ags_wc_filters_isInVisualBuilder&&n.has(".ags-wc-filters-search-with-suggestions").length&&(j(n.find(".ags-wc-filters-search-container:first"),[{label:wp.i18n.__("Product One","divi-shop-builder"),link:"#"},{label:wp.i18n.__("Product Two","divi-shop-builder"),link:"#"}]),n.find(".ags-wc-filters-search-suggestions-container:first").hide().removeClass("ags-wc-filters-hide-on-click").find("a").click(function(){return!1})),n.find('input[type="search"]:first').on("input",function(e){!d.length&&!e.isTrigger&&window.ags_wc_filters_applyFiltersThrottled(i)}).on("focus input",function(t){var n,o,s=jQuery(this),i=s.closest(".ags-wc-filters-search-container");!t.isTrigger&&!window.ags_wc_filters_isInVisualBuilder&&i.hasClass("ags-wc-filters-search-with-suggestions")&&(o=s.val(),n&&clearTimeout(n),o?n=setTimeout(function(){n=null,e.post(DiviWoocommercePagesFrontendData.ajaxUrl,{action:"ags_wc_filters_search_suggestions",query:o},function(e){e.success&&e.data&&j(i,e.data)},"json")},200):s.siblings(".ags-wc-filters-search-suggestions-container:first").hide())});break;case"number_range":u=n.find(".ags-wc-filters-slider:first"),s=n.find('input[type="number"]:first'),h=n.find('input[type="number"]:last'),c=t.find(".ags-divi-wc-query-price-range:first"),c.length&&(s.attr("data-min-default")||s.attr({"data-min-default":s.attr("min"),"data-max-default":s.attr("max")}),c.attr("data-max")?c.attr("data-max")-c.attr("data-min")<3?(r=Math.max(0,Math.floor(c.attr("data-min"))-1),a=Math.ceil(c.attr("data-min"))+1):(r=Math.floor(c.attr("data-min")),a=Math.ceil(c.attr("data-max"))):(r=s.attr("data-min-default"),a=s.attr("data-max-default")),s.add(h).attr({min:r,max:a})),u.length&&(u.siblings(".rs-container").remove(),r=parseInt(s.attr("min")),a=parseInt(s.attr("max")),f={target:u[0],values:{min:r,max:a},step:1,range:!0,scale:!1,labels:!1,tooltip:s.hasClass("ags-wc-filters-hidden"),onChange:function(e){if(!o.hadFirstOnChange){o.hadFirstOnChange=!0;return}o.isInOnChange=!0,e=e.split(","),s.val(parseInt(e[0])===r?"":e[0]),h.val(parseInt(e[1])===a?"":e[1]).trigger("input"),d.length||window.ags_wc_filters_applyFiltersThrottled(i),o.isInOnChange=!1}},v=u.closest(".ags-wc-filters-number-range-container").attr("data-currency-symbol"),v&&(f.valuePrefix=v),p=s.val(),m=h.val(),(p.length||m.length)&&(f.set=[p.length?parseInt(p):r,m.length?parseInt(m):a]),o=new rSlider(f),o.setValues2=function(e,t){o.setValues(e,t),clearTimeout(o.timeout)}),n.find('input[type="number"]').on("input",function(e){var t=jQuery(this).closest(".ags-wc-filters-number-range-container"),n=t.find('input[type="number"]:first').val(),s=t.find('input[type="number"]:last').val();u.length&&!o.isInOnChange&&o.setValues2(n.length?parseInt(n):r,s.length?parseInt(s):a),!d.length&&!e.isTrigger&&window.ags_wc_filters_applyFiltersThrottled(i)});break;case"stars":g=n.find(".ags-wc-filters-stars-control:first"),l=g.find(".ags-wc-filters-stars:first"),l.children().click(function(e){var t=jQuery(this).index()+1;l.children(":lt("+t+")").removeClass("ags-wc-filters-star-empty").addClass("ags-wc-filters-star-filled"),l.children(":gt("+(t-1)+")").removeClass("ags-wc-filters-star-filled").addClass("ags-wc-filters-star-empty"),g.attr("data-value",t+(g.hasClass("ags-wc-filters-stars-control-only")?"":"+")),!d.length&&!e.isTrigger&&window.ags_wc_filters_applyFilters(i)}).hover(function(){var e=jQuery(this).index()+1;l.children(":lt("+e+")").addClass("ags-wc-filters-star-hover"),l.children(":gt("+(e-1)+")").removeClass("ags-wc-filters-star-hover")}),l.mouseout(function(){l.children().removeClass("ags-wc-filters-star-hover")});break}},window.ags_wc_filters_processOptionLabel=function(e){var t=e.indexOf(r);return(e[t+4]===p||e[t+4]===r)&&(e=(t>0?e.substring(0,t-1)+(e[t-1]===" "?"&nbsp;":e[t-1]):"")+'<span class="ags-wc-filters-stars">'+e.substring(t,t+5).replaceAll(new RegExp(r,"g"),'<span class="ags-wc-filters-star-filled">'+r+"</span>").replaceAll(new RegExp(p,"g"),'<span class="ags-wc-filters-star-empty">'+r+"</span>")+"</span>"+(e.length>t+5?e[t+5]===" "?"&nbsp;":e[t+5]:"")+e.substring(t+6)),e},window.ags_wc_filters_applyFiltersThrottled=function(e){var t=e[0].className.match(/ags_woo_products_filters_[0-9]+/)[0];i[t]&&clearTimeout(i[t]),i[t]=setTimeout(function(){delete i[t],window.ags_wc_filters_applyFilters(e)},200)},window.ags_wc_filters_applyFilters=function(n,i,a,r,c){if(window.ags_wc_filters_isInVisualBuilder)return!1;var u,h,p,g,j,y,w,O,C,E,A,S,x="",d={},b=n.find(".ags-wc-filters-selected:first").empty(),_=[],k=null;function m(e,t,n,s){var o=jQuery('<p class="ags-wc-filters-selected-inner">').attr("data-filter",e+":"+t);s?o.html(n):o.text(n),o.prepend('<span class="ags-wc-filters-remove">x&nbsp;</span>').html(window.ags_wc_filters_processOptionLabel(o.html())).appendTo(b.not(':has([data-filter="'+e+":"+t+'"])'))}if(E=["add-to-cart"],n.find(".ags-wc-filters-section").each(function(){var t,s,o,i,a,r,c,l,h,f,p,g,v,b,j,u=0;switch(E.push(e(this).attr("data-ags-wc-filters-query-var")),s=e(this),o=s.attr("data-ags-wc-filters-query-var"),c=s.attr("data-ags-wc-filters-real-query-var"),l=s.attr("data-ags-wc-filters-dynamic-product-counts"),j=s.hasClass("ags-wc-filters-hide-zero-count"),v=window.ags_wc_filters_getDisplayType(s),v){case"dropdown_single_select":f=s.find('.ags-wc-filters-dropdown-single-options:first .ags-wc-filters-active:not([data-id="all"]):first'),f.length&&(c!=="shopOrder"&&m(o,f.attr("data-id"),f.attr("data-label")),t=f.attr("data-id").toString(),c==="shopOrder"&&t==="menu_order"&&(t=""),c==="shopOrder"&&t==="menu_order"&&(t=""),u=1),(l||j||s.attr("data-condition")==="notempty")&&s.find(".ags-wc-filters-dropdown-single-options:first a").each(function(){var t=e(this);_.push({parent:"#"+t.attr("id"),filter:l||c,value:t.attr("data-id")})});break;case"dropdown_multi_select":case"checkboxes_list":case"radio_buttons":case"colors":case"images":t=s.find('.ags-wc-filters-list:first :checked:not([value="all"])').each(function(){var t=e(this);m(o,t.val(),v==="colors"||v==="images"?t.siblings("label:first").attr("title"):t.attr("data-label"))}).map(function(){return e(this).val()}).get(),u=t.length,(l||j||s.attr("data-condition")==="notempty")&&s.find(".ags-wc-filters-list:first input").each(function(){var t=e(this);_.push({parent:'label[for="'+t.attr("id")+'"]',filter:l||c,value:t.val()})});break;case"search":t=s.find('input[type="search"]:first').val().trim(),t&&(m(o,t,'"'+t+'"'),u=1);break;case"number_range":g=s.find('input[type="number"]:first'),r=g.val(),a=s.find('input[type="number"]:last').val(),(r||a)&&(parseInt(r)!==parseInt(g.attr("min"))||parseInt(a)!==parseInt(g.attr("max")))?(r=r.length?parseInt(r):"",a=a.length?parseInt(a):"",t=r+"-"+a,p=s.find(".ags-wc-filters-number-range-container").attr("data-currency-symbol"),p||(p=""),r?a?(h="min-max"):(h="min"):(h="max"),i=n.find(".ags-wc-filters-sections:first").parent().attr("data-range-text-"+h),i&&(i=i.replace("%filter%",s.find(".ags-wc-filters-section-title h4:first").text()),h!=="max"&&(i=i.replace("%min%",p+r)),h!=="min"&&(i=i.replace("%max%",p+a))),m(o,t,i),u=1):(t=null);break;case"stars":b=s.find(".ags-wc-filters-stars-control:first").clone(),b.find(".ags-wc-filters-star-hover").removeClass("ags-wc-filters-star-hover"),t=b.attr("data-value"),t==="0"?t=null:(m(o,t,b.html(),!0),u=1);break}t&&(t.length&&(o=s.attr("data-ags-wc-filters-query-var"),d[o]||(d[o]=[]),typeof t=="object"?d[o]=d[o].concat(t):d[o].push(t)),c==="shopCategory"&&(k=t)),s.find(".ags-wc-filters-title-active-count:first").text(u?"("+u+")":"")}),b.has("*").length?b.closest(".ags-wc-filters-selected-outer").show():b.closest(".ags-wc-filters-selected-outer").hide(),i!==!1){for(p in d){y=[];for(h=0;h<d[p].length;++h)y.indexOf(d[p][h])===-1&&y.push(d[p][h]);x+=(x?"&":"")+p+"="+y.map(encodeURIComponent).join("&"+p+"=")}if(u=i||location.href,O=u.indexOf("#"),O===-1?(C=""):(C=u.substring(O),u=u.substring(0,O)),g=u.indexOf("?"),g!==-1){d=u.substring(g+1).split("&"),j=[];for(h=0;h<d.length;++h)d[h]=d[h].split("="),E.indexOf(d[h][0])===-1&&(i||c||d[h][0].substring(0,8)!=="shopPage")&&j.push(d[h].join("="));u=u.substring(0,g)+(j.length?"?"+j.join("&"):"")}x&&(u+=(u.indexOf("?")===-1?"?":"&")+x),u=u+C,w=t.attr("data-shop-url"),w||(w=window.location.href),A=!v(u,w),(A||!t.hasClass("ags-woo-shop-ajax-loaded"))&&(A&&window.history.pushState("",document.title,u),l(t,a,r)),i!==!1&&(S=n.closest(".ags_woo_products_filters").addBack(".ags_woo_products_filters"),o(e(".ags_woo_products_filters").not(S)),s(null,null,S)),k&&n.find('.ags-wc-filters-section[data-condition="category"]').each(function(){for(var a,t=e(this),r=t.attr("data-condition-categories").split(","),s=!1,i=0;i<r.length;++i)if(k.indexOf(r[i])!==-1){s=!0;break}a=t.closest(".ags_woo_products_filters_child"),!s&&!a.hasClass("ags-wc-filters-hidden")&&o(n,!0,t),a.toggleClass("ags-wc-filters-hidden",!s)})}_.length&&e.post(f(!0),{ags_wc_filters_product_counts:JSON.stringify(_),forPost:t.attr("data-post-id")},function(t){for(var i,a,r,c,s=0;s<t.length;++s)t[s].parent&&(r=parseInt(t[s].count),i=e(t[s].parent),a=i.closest(".ags-wc-filters-section"),c=!1,a.hasClass("ags-wc-filters-hide-zero-count")&&(i.closest("li").toggleClass("ags-wc-filters-hidden",!r),c=!r,window.ags_wc_filters_maybeToggleNoOptionsMessage(a)),!c&&a.attr("data-ags-wc-filters-dynamic-product-counts")&&i.find(".ags-wc-filters-product-count").text(t[s].count));n.find('.ags-wc-filters-section[data-condition="notempty"]').each(function(){var s,i,c,a=e(this),r=a.attr("data-ags-wc-filters-dynamic-product-counts");if(r||(r=a.attr("data-ags-wc-filters-real-query-var")),r){s=!0;for(i=0;i<t.length;++i)if(t[i].filter===r){if(parseInt(t[i].count)){s=!0;break}s=!1}c=a.closest(".ags_woo_products_filters_child"),!s&&!c.hasClass("ags-wc-filters-hidden")&&o(n,!0,a),c.toggleClass("ags-wc-filters-hidden",!s)}})},"json")};function v(e,t){e[0]==="/"&&(e=window.location.protocol+"//"+window.location.host+(window.location.port?":"+window.location.port:"")+e),t[0]==="/"&&(t=window.location.protocol+"//"+window.location.host+(window.location.port?":"+window.location.port:"")+t);var n,s,o,i,a,r=e.indexOf("#");if(r!==-1&&(e=e.substring(0,r)),i=t.indexOf("#"),i!==-1&&(t=t.substring(0,i)),n=e.indexOf("?"),n!==t.indexOf("?"))return!1;if(n===-1)return e===t;if(e.substring(0,n)!==t.substring(0,n))return!1;if(s=e.substring(n+1).split("&"),a=t.substring(n+1).split("&"),s.length!==a.length)return!1;for(o=0;o<s.length;++o)if(a.indexOf(s[o])===-1)return!1;return!0}function f(t){var n,s,i,c,o=window.location.href,r=o.indexOf("?"),a=o.indexOf("#");if(r!==-1){s=o.substring(r+1,a===-1?o.length:a).split("&"),i={};for(n=0;n<s.length;++n)s[n]=s[n].split("="),t&&(c=e('.ags-wc-filters-section[data-ags-wc-filters-real-query-var][data-ags-wc-filters-query-var="'+s[n][0].replaceAll(/"/g,"")+'"]'),c.length&&(s[n][0]=c.attr("data-ags-wc-filters-real-query-var"))),i[s[n][0]]?i[s[n][0]].push([s[n][1]]):i[s[n][0]]=[s[n][1]];for(fieldName in i)i[fieldName]=fieldName+"="+i[fieldName].join("%2C");o=o.substring(0,r+1)+Object.values(i).join("&")+(a===-1?"":o.substring(a))}return o}function l(n,s,o){if(!n.length)return;s||(s=[]);var i=n.closest("body"),a=i.find(".ags_woo_notices").get().map(function(e){return e.className.split(" ").filter(function(e){return e.indexOf("ags_woo_notices_")===0})[0]}),a=a.map(function(e){return{name:"ags_wc_filters_ajax_notices[]",value:e}}),c=[{name:"ags_wc_filters_ajax_shop",value:n[0].className.split(" ").filter(function(e){return e.indexOf("ags_woo_shop_plus_")===0})[0]}].concat(a).concat(s),r=f();t.attr("data-shop-url",r),e.ajax({type:"POST",dataType:"text",url:r,data:c,beforeSend:function(){n.addClass("ags-woo-shop-loading")},success:function(t){var n=t.indexOf("/*agsdsb-json-start*/");if(t=n===-1?null:JSON.parse(t.substring(n+21)),t){if(t.dswcpRedirect){window.location.href=t.dswcpRedirect;return}for(shopId in t.shop)h(i.find("."+shopId).html(t.shop[shopId]).removeClass("ags-woo-shop-loading").addClass("ags-woo-shop-ajax-loaded"));if(e('.ags-wc-filters-sections .ags-wc-filters-section[data-ags-wc-filters-query-var="shopPrice"]').each(function(){ags_wc_filters_initFilters(e(this))}),t.notices)for(noticeId in t.notices)i.find("."+noticeId).html(t.notices[noticeId])}o&&o(t)},error:function(){n.removeClass("ags-woo-shop-loading"),o&&o()}})}function h(n){var o=encodeURIComponent(n.attr("data-shop-order-var"));n.find("select.orderby").change(function(n){n.originalEvent.stopPropagation();var a=e(this),r=a.closest(".ags-wc-filters-section").length?t:a.closest(".ags_woo_shop_plus"),i=a.val();return window.history.pushState(null,document.title,new RegExp("([?&]"+o+"=)").test(window.location.search)?window.location.href.replace(new RegExp("([?&]"+o+"=)([^&]*)"),i==="menu_order"?"":"$1"+i.replaceAll(/\$/g,"$$")):window.location.href.substring(0,window.location.href.length-window.location.hash.length)+(i==="menu_order"?"":(window.location.href.indexOf("?")===-1?"?":"&")+o+"="+i)+window.location.hash),s(),!1})}window.ags_wc_filters_isInVisualBuilder||h(e(".ags-divi-wc-shop-ajax").on("click","a",function(){var n,o,i,a,r,c,d,u,h,m,f,p,g,t=e(this);if(t.hasClass("add_to_cart_button")&&t.attr("href").indexOf("add-to-cart=")!==-1&&!t.hasClass("wcpa_has_options")){if(d=[],d=t.closest(".product").find(":input").serializeArray(),u=t.attr("href").split("?"),u.length===2){o=u[1].split("&");for(n=0;n<o.length;++n)g={},a=o[n].indexOf("="),d.push({name:a?o[n].substring(0,a):o[n],value:a?o[n].substring(a+1):""})}return l(t.closest(".ags-divi-wc-shop-ajax"),d,function(e){window.jQuery(document.body).trigger("added_to_cart",[e&&e["wc-fragments"]?e["wc-fragments"]:{},e&&e["wc-cart-hash"]?e["wc-cart-hash"]:""])}),!1}if(t.closest(".woocommerce-pagination").length)return i=t.closest(".ags-divi-wc-shop-ajax"),m=e(".ags_woo_shop_plus").index(i.closest(".ags_woo_shop_plus")),r="shopPage"+(m?m+1:""),p=t.attr("href"),h=new RegExp("[?&]"+r+"=([0-9]+)").exec(p),c=h?h[1]:null,window.history.pushState(null,document.title,new RegExp("([?&]"+r+"=)").test(window.location.search)?window.location.href.replace(new RegExp("([?&]"+r+"=)([^&]*)"),c?"$1"+c:""):window.location.href.substring(0,window.location.href.length-window.location.hash.length)+(c?(window.location.href.indexOf("?")===-1?"?":"&")+r+"="+c:"")+window.location.hash),l(i,null,function(){window.et_pb_smooth_scroll&&window.et_pb_smooth_scroll(i)}),!1;if(t.closest(".categories").length&&(f=t.attr("data-filter-url"),f&&e('.ags-wc-filters-section[data-ags-wc-filters-query-var="shopCategory"]:not(.ags-wc-filters-children-hide):first').length))return i=t.closest(".ags-divi-wc-shop-ajax"),window.history.pushState(null,document.title,decodeURIComponent(f)),s(null,function(){window.et_pb_smooth_scroll&&window.et_pb_smooth_scroll(i)}),!1}));function s(t,n,s,i){t&&e(".ags-wc-filters-sections").each(function(){o(e(this))});for(var a,r,c,l,m,f,p,u=e(".ags-wc-filters-section[data-ags-wc-filters-query-var]").get().map(function(t){return e(t).attr("data-ags-wc-filters-query-var")}),g=window.location.search.substring(1).split("&"),d={},h=0;h<g.length;++h)for(l=0;l<u.length;++l)if(g[h].substring(0,u[l].length+1)===u[l]+"="){c=u[l],p=decodeURIComponent(g[h].substring(c.length+1)),d[c]?d[c].push(p):d[c]=[p];break}for(c in d)a=d[c],a.length&&(r=!1,e('.ags-wc-filters-section[data-ags-wc-filters-query-var="'+c+'"]').each(function(){switch($filters=e(this),window.ags_wc_filters_getDisplayType($filters)){case"checkboxes_list":case"dropdown_multi_select":case"colors":case"images":for(var t=$filters.find(".ags-wc-filters-list:first :checkbox[value='"+a[0]+"']"),n=1;n<a.length;++n)t=t.add($filters.find(".ags-wc-filters-list:first :checkbox[value='"+a[n]+"']"));r=$filters.find(".ags-wc-filters-list:first :checkbox:checked").not(t).prop("checked",!1).change().length||r,r=t.not(":checked").prop("checked",!0).change().length||r;break;case"radio_buttons":r=$filters.find(".ags-wc-filters-list:first :radio[value='"+a[0]+"']:not(:checked)").prop("checked",!0).change().length||r;break;case"dropdown_single_select":r=$filters.find('.ags-wc-filters-dropdown-single-options:first a[data-id="'+a[0]+'"]:not(.ags-wc-filters-active):first').click().length||r;break;case"search":$filters.find('input[type="search"]:first').val(a[0]).trigger("input");break;case"number_range":a=a[0].split("-"),$filters.find('input[type="number"]:first').val(a[0]),$filters.find('input[type="number"]:last').val(a[1]).trigger("input");break;case"stars":(a[0].length===2?a[0][1]==="+":a[0].length===1)&&a[0][0]>=1&&a[0][0]<=5&&$filters.find(".ags-wc-filters-stars:first span:eq("+(a[0][0]-1)+")").click();break}}));m=typeof s=="object",(!s||m)&&(f=e(".ags_woo_products_filters"),m&&(f=f.not(s)),f.each(function(){window.ags_wc_filters_applyFilters(e(this),!m&&null,null,n,i)}))}window.ags_wc_filters_isInVisualBuilder||(e(window).on("popstate",s),e(".ags-wc-filters-button-clear").click(function(){o(e(this).closest(".ags_woo_products_filters"),!0)}));function o(t,n,s){t.find(".ags-wc-filters-section").filter(s||"*").each(function(){var o,i,a,r,c,l,d,u,s=e(this);switch(window.ags_wc_filters_getDisplayType(s)){case"radio_buttons":i=s.find("input[value='all']:first"),i.prop("checked")||(i.prop("checked",!0).change(),n&&window.ags_wc_filters_applyFilters(t));break;case"dropdown_single_select":s.find(".ags-wc-filters-dropdown-single .ags-wc-filters-dropdown-single-options li a").removeClass("ags-wc-filters-active"),o=s.find(".ags-wc-filters-dropdown-single .ags-wc-filters-dropdown-single-options li a[data-id='all']:first"),o.length||(o=s.find(".ags-wc-filters-dropdown-single .ags-wc-filters-dropdown-single-options li:first a")),o.addClass("ags-wc-filters-active"),s.find(".ags-wc-filters-dropdown-single .ags-wc-filters-active a span").text(o.attr("data-label")),s.closest(".ags_woo_products_filters").find('.ags-wc-filters-selected:first .ags-wc-filters-selected-inner[data-filter^="'+s.attr("data-ags-wc-filters-query-var")+':"]').remove(),n&&window.ags_wc_filters_applyFilters(t);break;case"dropdown_multi_select":case"checkboxes_list":case"colors":case"images":a=!1,s.find(".ags-wc-filters-list:first :checkbox").each(function(){e(this).prop("checked")===!0&&(e(this).prop("checked",!1).change(),a=!0)}),a&&n&&window.ags_wc_filters_applyFilters(t),s.find(".ags-wc-filters-active span").text(s.find(".ags-wc-filters-dropdown-multi:first").attr("data-placeholder-text"));break;case"search":r=s.find('input[type="search"]:first'),r.val()&&(r.val("").trigger("input"),n&&window.ags_wc_filters_applyFilters(t));break;case"number_range":c=s.find('input[type="number"]:first'),l=s.find('input[type="number"]:last'),(c.val()||l.val())&&(c.val(""),l.val("").trigger("input"),n&&window.ags_wc_filters_applyFilters(t));break;case"stars":d=s.find(".ags-wc-filters-stars-control:first"),u=parseInt(d.attr("data-value"))!==0,u&&(d.attr("data-value",0).find(".ags-wc-filters-stars:first > span").removeClass("ags-wc-filters-star-filled").addClass("ags-wc-filters-star-empty"),s.closest(".ags_woo_products_filters").find('.ags-wc-filters-selected:first .ags-wc-filters-selected-inner[data-filter^="'+s.attr("data-ags-wc-filters-query-var")+':"]').remove(),n&&window.ags_wc_filters_applyFilters(t));break}})}e(".ags_woo_products_filters .ags-wc-filters-filter-clear").on("click",function(){return o(e(this).closest(".ags_woo_products_filters"),!0,e(this).closest(".ags-wc-filters-section")),!1}),e(".ags_woo_products_filters").find(".ags-wc-filters-selected:first").on("click",".ags-wc-filters-remove",function(){if(window.ags_wc_filters_isInVisualBuilder)return!1;var o,a,n=e(this).parent(),i=n.attr("data-filter").split(":"),s=n.closest(".ags_woo_products_filters"),t=s.find('.ags-wc-filters-section[data-ags-wc-filters-query-var="'+i[0]+'"]');switch(window.ags_wc_filters_getDisplayType(t)){case"dropdown_multi_select":case"checkboxes_list":case"colors":case"images":t.find('.ags-wc-filters-list:first input[value="'+i[1]+'"]').prop("checked",!1).change();break;case"dropdown_single_select":t.find('.ags-wc-filters-dropdown-single-options:first a[data-id="all"]:first').click();break;case"radio_buttons":t.find('.ags-wc-filters-list:first input[value="all"]').prop("checked",!0).change();break;case"search":t.find('input[type="search"]:first').val("").trigger("input");break;case"number_range":t.find('input[type="number"]:first').val(""),t.find('input[type="number"]:last').val("").trigger("input");break;case"stars":o=t.find(".ags-wc-filters-stars-control:first"),a=o.attr("data-star-empty"),o.attr("data-value",0).find(".ags-wc-filters-stars:first > span").removeClass("ags-wc-filters-star-filled").addClass("ags-wc-filters-star-empty");break}s.has(".ags-wc-filters-button-apply").length||window.ags_wc_filters_applyFilters(s),n.remove()}),e(".ags-wc-filters-section").each(function(){var t=e(this);window.ags_wc_filters_initFilters(t),window.ags_wc_filters_maybeToggleNoOptionsMessage(t)}),e(window).on("et_builder_api_ready",function(){var s,n=[];function o(e){for(var t=0;t<e.length;++t)e[t].type==="ags_woo_shop_plus"?e[t].attrs.filter_target==="on"&&n.push(e[t]._key):typeof e[t].content=="object"&&o(e[t].content)}s=null,window.et_gb.wp.hooks.addFilter("et.builder.store.action.dispatched","ags-wc-filters",function(e){switch(e.actionType){case"MODULE_EDIT_SETTINGS_CHANGE":if(e.module.props.type==="ags_woo_shop_plus"&&e.setting==="filter_target"){var t=n.indexOf(e.module.props._key);e.newValue==="on"?t===-1&&n.push(e.module.props._key):t!==-1&&n.splice(t,1),window.ags_wc_filters_noShopFilteringModule=!n.length,window.ags_wc_filters_multipleShopFilteringModules=n.length>1}break;case"ET_SET_ROOT_MOUNTED":o(ETBuilderBackend.shortcodeObject),window.ags_wc_filters_noShopFilteringModule=!n.length,window.ags_wc_filters_multipleShopFilteringModules=n.length>1;break}return e}),window.et_gb.wp.hooks.addAction("et.builder.store.module.settings.open","ags-wc-filters",function(e){if(s&&(window.clearInterval(s),s=null),window.jQuery(".et_pb_module[data-agswc-active-toggle]").attr("data-agswc-active-toggle",null),e.props&&e.props.type&&e.props.type.substring(0,8)==="ags_woo_"){var n=e.props._key,t=null;s=window.setInterval(function(){var e=window.et_gb.jQuery(".et-fb-tabs__panel--active:first .et-fb-form__toggle-opened:first").attr("data-name");(e!==t||!window.jQuery(".et-module-"+n+"[data-agswc-active-toggle]").length)&&(t=e,window.jQuery(".et-module-"+n).attr("data-agswc-active-toggle",t||null))},500)}}),window.et_gb.wp.hooks.addAction("et.builder.store.module.settings.close","ags-wc-filters",function(){s&&(window.clearInterval(s),s=null),window.jQuery(".et_pb_module[data-agswc-active-toggle]").attr("data-agswc-active-toggle",null)})}),window.ags_wc_filters_isInVisualBuilder||s(null,null,[],!0),e(".dswcp-checkout-steps a").on("click",function(){return location.hash=e(this).attr("href"),!1}),d=e(".dswcp-checkout-steps").attr("data-hidden-steps"),d&&e(d).hide(),g=e(".dswcp-checkout-steps li:first").addClass("dswcp-checkout-step-active"),e(".dswcp-checkout-steps li:not(.dswcp-checkout-step-active)").each(function(){e(e(this).attr("data-selector")).hide()}),a=e(".dswcp-checkout-steps-buttons-container:first").insertAfter(g.attr("data-selector")),a.find(".dswcp-button-back").hide();function b(t){e(".dswcp-checkout-loader").prependTo(t)}function m(){e(".dswcp-checkout-loader").appendTo(".ags_woo_multi_step_checkout")}location.hash&&e('.dswcp-checkout-steps li a[href="'+location.hash+'"]').length&&(location.hash=""),c=!0,e(window).on("hashchange",function(t){if(!c){c=!0;return}if(location.hash)var n,o,i,r,s=e('.dswcp-checkout-steps li:has(a[href="'+location.hash+'"]):first');else if(t.originalEvent&&t.originalEvent.oldURL&&t.originalEvent.oldURL.indexOf("#")!==-1&&e('.dswcp-checkout-steps li a[href="#'+t.originalEvent.oldURL.split("#").pop()+'"]:first').length)s=e(".dswcp-checkout-steps li:first");else return;n=e(".dswcp-checkout-steps .dswcp-checkout-step-active:first"),o=e(n.attr("data-selector")),i=e(s.attr("data-selector")),r=function(){n.removeClass("dswcp-checkout-step-active"),o.hide(),s.addClass("dswcp-checkout-step-active");var t=i.find("button#place_order"),e=a.find(".dswcp-button-continue");t.length?(e.attr("data-original-content",e.html()).html(t.html()).attr("type","submit"),t.hide()):e.attr("type")==="submit"&&e.attr("type","button").html(e.attr("data-original-content")),i.show(),a.insertAfter(i),a.find(".dswcp-button-back").toggle(s.prev().length>0),m()},e(".ags_woo_notices:visible .woocommerce-notices-wrapper").empty().length||e(".ags_woo_multi_step_checkout .dswcp-checkout-steps").next(".woocommerce-notices-wrapper").empty(),n.length&&n.index()<s.index()&&o.has(":input").length?(b(o),e.post(woocommerce_params.ajax_url,{action:"dswcp_validate_checkout_step",fields:o.find(":input").serialize()},function(t){if(t.success||!t.data)r();else{var o,s=e(".ags_woo_notices:visible .woocommerce-notices-wrapper").first();s.length||(o=e(".ags_woo_multi_step_checkout .dswcp-checkout-steps"),s=o.next(".woocommerce-notices-wrapper"),s.length||(s=e("<div>").addClass("woocommerce-notices-wrapper").insertAfter(o))),s.empty().append(t.data),c=!1,location.hash=n.children("a").attr("href"),window.et_pb_smooth_scroll&&window.et_pb_smooth_scroll(s),m()}}).fail(function(){r()})):r()}),e(document).on("focus blur",".ags_woo_mini_cart .et_pb_module_inner > a",function(t){e(this).closest(".ags_woo_mini_cart").toggleClass("dswcp-focus",t.type==="focusin")}),e(document).on("click",".ags_woo_mini_cart .et_pb_module_inner > a",function(){var t,n,s=e(this).trigger("blur"),o=s.closest(".ags_woo_mini_cart"),i=e(window).outerWidth()<=980;switch(s.closest(".ags_woo_mini_cart").attr(i?"data-action-click-mobile":"data-action-click")){case"sidecart":return n=o.attr("data-side-cart-id"),n&&(t=e("#"+n),t.hasClass("dswcp-show-side-cart")?(t.addClass("dswcp-closing-side-cart"),t.removeClass("dswcp-show-side-cart dswcp-show-side-cart-click"),setTimeout(function(){t.removeClass("dswcp-closing-side-cart")},400)):t.addClass("dswcp-show-side-cart dswcp-show-side-cart-click")),!1;case"dropdowncart":return i||o.closest(".ags_woo_mini_cart").toggleClass("dswcp-show-dropdown"),!1}}),n=null;function u(t,n,s,o){if(t.addClass("ags_woo_mini_cart_updating"),!s){var a,r,i=t.attr("data-side-cart-id");i&&(a=e("#"+i),r=a.attr("class"),a.addClass("ags_woo_mini_cart_updating").prepend(e("<div>").addClass("dswcp-side-cart-overlay").append(e("<span>").text(t.attr("data-loading-text")))))}e("<div>").addClass("dswcp-dropdown-cart-overlay").append(e("<span>").text(t.attr("data-loading-text"))).prependTo(t.find(".dswcp-dropdown-cart:first")),e.post(woocommerce_params.ajax_url,Object.assign({action:"dswcp_update_cart",cartConfig:t.attr("data-update-cart-config"),sideCartId:s?"":i,_ajax_nonce:t.attr("data-update-cart-nonce")},n||{}),function(n){if(n.success&&n.data&&n.data.html){!s&&i&&e("#"+i).remove();var a=t.find(".et_pb_module_inner:first");a.html(n.data.html),t.removeClass("ags_woo_mini_cart_updating"),!s&&i&&e("#"+i).attr("class",null).attr("class",r),o&&o()}else location.reload()},"json").fail(function(){location.reload()})}window.ags_wc_filters_isInVisualBuilder||(e(document).on("change",".dswcp-side-cart .dswcp-quantity",function(){var n,s=e(this),t=s.closest(".dswcp-side-cart").attr("id");if(t&&(t=t.substring(0,t.length-11),n=e("."+t+":first")),!t||!n.length)return;u(n,{cartAction:"update-quantity",item:s.closest("[data-cart-item-key]").attr("data-cart-item-key"),quantity:s.val()},!1,function(){e(document.body).trigger("updated_wc_div",{_dswcp_skip:n})})}),e(document).on("click",".ags_woo_mini_cart .dswcp-remove, .dswcp-side-cart .dswcp-remove",function(){var t,s=e(this),n=s.closest(".ags_woo_mini_cart");if(n.length||(t=s.closest(".dswcp-side-cart").attr("id"),t&&(t=t.substring(0,t.length-11),n=e("."+t+":first"))),!n.length)return;u(n,{cartAction:"item-remove",item:s.closest("[data-cart-item-key]").attr("data-cart-item-key")},!1,function(){e(document.body).trigger("removed_from_cart",{_dswcp_skip:n})})}),e(document.body).on("added_to_cart removed_from_cart updated_wc_div wc_cart_emptied",function(t,n){var s=e(".et_pb_module.ags_woo_mini_cart");n._dswcp_skip&&(s=s.not(n._dswcp_skip)),s.each(function(){u(e(this),null,n._dswcp_skip&&n._dswcp_skip.attr("data-side-cart-id")&&n._dswcp_skip.attr("data-side-cart-id")===e(this).attr("data-side-cart-id"))})})),e(document).on("click",".dswcp-side-cart .dswcp-close",function(){var t=e(this).closest(".dswcp-side-cart");t.addClass("dswcp-closing-side-cart").removeClass("dswcp-show-side-cart dswcp-show-side-cart-click"),setTimeout(function(){t.removeClass("dswcp-closing-side-cart")},500)}),e(document).on("click",".ags_woo_mini_cart .dswcp-dropdown-cart .dswcp-close",function(){e(this).closest(".ags_woo_mini_cart").removeClass("dswcp-show-dropdown")}),e(document).on("click",'.dswcp-button-continue[type="button"]',function(){location.hash=e(".dswcp-checkout-steps .dswcp-checkout-step-active:first").next().children("a").attr("href")}),e(document).on("click",".dswcp-button-back",function(){location.hash=e(".dswcp-checkout-steps .dswcp-checkout-step-active:first").prev().children("a").attr("href")}),e(document).on("touchstart",".dswcp-side-cart",function(t){t.originalEvent.touches.length===1&&(n=t.originalEvent.touches[0].clientX,e(this).addClass("dswcp-dragging"))}),e(document).on("touchmove",function(t){n!==null&&e(".dswcp-side-cart.dswcp-dragging").css("right",t.originalEvent.touches[0].clientX-n>0?n-t.originalEvent.touches[0].clientX+"px":null)}),e(document).on("touchend",function(){if(n!==null){n=null;var s=e(".dswcp-side-cart.dswcp-dragging"),o=parseInt(s.css("right"))*-2>=s.width();o&&(s.addClass("dswcp-closing-side-cart").removeClass("dswcp-show-side-cart"),setTimeout(function(){s.removeClass("dswcp-closing-side-cart")},400)),s.removeClass("dswcp-dragging").css("right","")}}),e(document).on("click",".ags-wc-filters-expand-hierarchy .ags-wc-filters-has-children > label a",function(t){e(this).parent().parent().toggleClass("ags-wc-filters-expanded"),t.preventDefault()}),e(document).on("click",".dswcp-palette a",function(){var t=e(this).parent();return e(this).closest(".dswcp-attribute-color").find("select").val(t.attr("data-value")).trigger("change"),t.siblings().removeClass("dswcp-active"),t.addClass("dswcp-active"),!1}),e(".dswcp-attribute-color select").each(function(){e(this).closest(".dswcp-attribute-color").find('.dswcp-palette li[data-value="'+e(this).val()+'"]').trigger("click")}),e(document).on("mousedown",".ags-wc-filters-row .ags-wc-filters-sections",function(t){if(!e(t.target).closest(".ags-wc-filters-section-inner-wrapper").length){var n=e(this),i=n.parent(),a=t.clientX,r=parseInt(n.css("margin-left"));function s(e){n.css("margin-left",Math.min(r+Math.max(e.clientX-a,i.width()-n.width()),0)+"px")}function o(){n.off("mousemove",s),e(document).off("mouseup",o)}n.on("mousemove",s),e(document).on("mouseup",o)}})}),!function(){"use strict";e=function(e){this.input=null,this.inputDisplay=null,this.slider=null,this.sliderWidth=0,this.sliderLeft=0,this.pointerWidth=0,this.pointerR=null,this.pointerL=null,this.activePointer=null,this.selected=null,this.scale=null,this.step=0,this.tipL=null,this.tipR=null,this.timeout=null,this.valRange=!1,this.values={start:null,end:null},this.conf={target:null,values:null,set:null,range:!1,width:null,scale:!0,labels:!0,tooltip:!0,step:null,disabled:!1,onChange:null,valuePrefix:""},this.cls={container:"rs-container",background:"rs-bg",selected:"rs-selected",pointer:"rs-pointer",scale:"rs-scale",noscale:"rs-noscale",tip:"rs-tooltip"};for(var t in this.conf)e.hasOwnProperty(t)&&(this.conf[t]=e[t]);this.init()},e.prototype.init=function(){return"object"==typeof this.conf.target?this.input=this.conf.target:this.input=document.getElementById(this.conf.target.replace("#","")),this.input?(this.inputDisplay=getComputedStyle(this.input,null).display,this.input.style.display="none",this.valRange=!(this.conf.values instanceof Array),!this.valRange||this.conf.values.hasOwnProperty("min")&&this.conf.values.hasOwnProperty("max")?this.createSlider():console.log("Missing min or max value...")):console.log("Cannot find target element...")},e.prototype.createSlider=function(){return this.slider=t("div",this.cls.container),this.slider.innerHTML='<div class="rs-bg"></div>',this.selected=t("div",this.cls.selected),this.pointerL=t("div",this.cls.pointer,["dir","left"]),this.conf.scale&&(this.scale=t("div",this.cls.scale)),this.conf.tooltip&&(this.tipL=t("div",this.cls.tip),this.tipR=t("div",this.cls.tip),this.pointerL.appendChild(this.tipL)),this.slider.appendChild(this.selected),this.conf.scale&&this.slider.appendChild(this.scale),this.slider.appendChild(this.pointerL),this.conf.range&&(this.pointerR=t("div",this.cls.pointer,["dir","right"]),this.conf.tooltip&&this.pointerR.appendChild(this.tipR),this.slider.appendChild(this.pointerR)),this.input.parentNode.insertBefore(this.slider,this.input.nextSibling),this.conf.width&&(this.slider.style.width=parseInt(this.conf.width)+"px"),this.sliderLeft=this.slider.getBoundingClientRect().left,this.sliderWidth=this.slider.clientWidth,this.pointerWidth=this.pointerL.clientWidth,this.conf.scale||this.slider.classList.add(this.cls.noscale),this.setInitialValues()},e.prototype.setInitialValues=function(){if(this.disabled(this.conf.disabled),this.valRange&&(this.conf.values=s(this.conf)),this.values.start=0,this.values.end=this.conf.range?this.conf.values.length-1:0,this.conf.set&&this.conf.set.length&&o(this.conf)){var e=this.conf.set;this.conf.range?(this.values.start=this.conf.values.indexOf(e[0]),this.values.end=this.conf.set[1]?this.conf.values.indexOf(e[1]):null):this.values.end=this.conf.values.indexOf(e[0])}return this.createScale()},e.prototype.createScale=function(){if(this.step=this.sliderWidth/(this.conf.values.length-1),this.conf.scale)for(var s,o,n=0,i=this.conf.values.length;n<i;n++)o=t("span"),s=t("ins"),o.appendChild(s),this.scale.appendChild(o),o.style.width=n===i-1?0:this.step+"px",this.conf.labels?s.innerHTML=this.conf.values[n]:0!==n&&n!==i-1||(s.innerHTML=this.conf.valuePrefix+this.conf.values[n]),s.style.marginLeft=s.clientWidth/2*-1+"px";return this.addEvents()},e.prototype.updateScale=function(){this.step=this.sliderWidth/(this.conf.values.length-1);for(var t=this.slider.querySelectorAll("span"),e=0,n=t.length;e<n;e++)t[e].style.width=this.step+"px";return this.setValues()},e.prototype.addEvents=function(){var e,t,s=this.slider.querySelectorAll("."+this.cls.pointer),o=this.slider.querySelectorAll("span");n(document,"mousemove touchmove",this.move.bind(this)),n(document,"mouseup touchend touchcancel",this.drop.bind(this));for(e=0,t=s.length;e<t;e++)n(s[e],"mousedown touchstart",this.drag.bind(this));for(e=0,t=o.length;e<t;e++)n(o[e],"click",this.onClickPiece.bind(this));return window.addEventListener("resize",this.onResize.bind(this)),this.setValues()},e.prototype.drag=function(e){if(e.preventDefault(),!this.conf.disabled){var t=e.target.getAttribute("data-dir");return"left"===t&&(this.activePointer=this.pointerL),"right"===t&&(this.activePointer=this.pointerR),this.slider.classList.add("sliding")}},e.prototype.move=function(e){if(this.activePointer&&!this.conf.disabled){var t=("touchmove"===e.type?e.touches[0].clientX:e.pageX)-this.sliderLeft-this.pointerWidth/2;return(t=Math.round(t/this.step))<=0&&(t=0),t>this.conf.values.length-1&&(t=this.conf.values.length-1),this.conf.range?(this.activePointer===this.pointerL&&(this.values.start=t),this.activePointer===this.pointerR&&(this.values.end=t)):this.values.end=t,this.setValues()}},e.prototype.drop=function(){this.activePointer=null},e.prototype.setValues=function(e,t){var n=this.conf.range?"start":"end";return this.conf.values.indexOf(e)>-1&&(this.values[n]=this.conf.values.indexOf(e)),t&&this.conf.values.indexOf(t)>-1&&(this.values.end=this.conf.values.indexOf(t)),this.conf.range&&this.values.start>this.values.end&&(this.values.start=this.values.end),this.pointerL.style.left=this.values[n]*this.step-this.pointerWidth/2+"px",this.conf.range?(this.conf.tooltip&&(this.tipL.innerHTML=this.conf.valuePrefix+this.conf.values[this.values.start],this.tipR.innerHTML=this.conf.valuePrefix+this.conf.values[this.values.end]),this.input.value=this.conf.values[this.values.start]+","+this.conf.values[this.values.end],this.pointerR.style.left=this.values.end*this.step-this.pointerWidth/2+"px"):(this.conf.tooltip&&(this.tipL.innerHTML=this.conf.values[this.values.end]),this.input.value=this.conf.values[this.values.end]),this.values.end>this.conf.values.length-1&&(this.values.end=this.conf.values.length-1),this.values.start<0&&(this.values.start=0),this.selected.style.width=(this.values.end-this.values.start)*this.step+"px",this.selected.style.left=this.values.start*this.step+"px",this.onChange()},e.prototype.onClickPiece=function(e){if(!this.conf.disabled){var t=Math.round((e.clientX-this.sliderLeft)/this.step);return t>this.conf.values.length-1&&(t=this.conf.values.length-1),t<0&&(t=0),this.conf.range&&t-this.values.start<=this.values.end-t?this.values.start=t:this.values.end=t,this.slider.classList.remove("sliding"),this.setValues()}},e.prototype.onChange=function(){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(e.conf.onChange&&"function"==typeof e.conf.onChange)return e.conf.onChange(e.input.value)},500)},e.prototype.onResize=function(){return this.sliderLeft=this.slider.getBoundingClientRect().left,this.sliderWidth=this.slider.clientWidth,this.updateScale()},e.prototype.disabled=function(e){this.conf.disabled=e,this.slider.classList[e?"add":"remove"]("disabled")},e.prototype.getValue=function(){return this.input.value},e.prototype.destroy=function(){this.input.style.display=this.inputDisplay,this.slider.remove()};var e,t=function(e,t,n){var s=document.createElement(e);return t&&(s.className=t),n&&2===n.length&&s.setAttribute("data-"+n[0],n[1]),s},n=function(e,t,n){for(var o=t.split(" "),s=0,i=o.length;s<i;s++)e.addEventListener(o[s],n)},s=function(e){var n,s,t=[],o=e.values.max-e.values.min;if(!e.step)return console.log("No step defined..."),[e.values.min,e.values.max];for(n=0,s=o/e.step;n<s;n++)t.push(e.values.min+n*e.step);return t.indexOf(e.values.max)<0&&t.push(e.values.max),t},o=function(e){return!e.set||e.set.length<1?null:e.values.indexOf(e.set[0])<0?null:!e.range||!(e.set.length<2||e.values.indexOf(e.set[1])<0)||null};window.rSlider=e}()})();function ags_wc_filters_getDisplayType(e){if(e.has(".ags-wc-filters-checkbox-list").length)return"checkboxes_list";if(e.has(".ags-wc-filters-radio-button-list").length||e.has(".ags-wc-filters-tagcloud").length)return"radio_buttons";if(e.has(".ags-wc-filters-dropdown-single").length)return"dropdown_single_select";if(e.has(".ags-wc-filters-dropdown-multi").length)return"dropdown_multi_select";if(e.has(".ags-wc-filters-search-container").length)return"search";if(e.has(".ags-wc-filters-number-range-container").length)return"number_range";if(e.has(".ags-wc-filters-stars-control").length)return"stars";if(e.has(".ags-wc-filters-colors").length)return"colors";if(e.has(".ags-wc-filters-images").length)return"images"}function ags_wc_filters_set_aliases(e){window.jQuery(".ags-wc-filters-section[data-ags-wc-filters-query-var]").each(function(){var t,n,s=window.jQuery(this).attr("data-ags-wc-filters-query-var");s.substring(0,14)==="shopAttribute_"?(t="shopAttribute"):s.substring(0,13)==="shopTaxonomy_"?(t="shopTaxonomy"):(t=s),n=e[t],n&&((t==="shopAttribute"||t==="shopTaxonomy")&&(n=n.replaceAll(/%s/g,s.substring(t.length+1))),window.jQuery(this).attr("data-ags-wc-filters-query-var",n))}),delete window.ags_wc_filters_aliases}